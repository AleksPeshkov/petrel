#ifndef PI_SINGLE_HPP
#define PI_SINGLE_HPP

#include "bitops128.hpp"
#include "typedefs.hpp"

class PiSingle {
    typedef i128_t _t;

    union _u {
        u8x16_t u8x16;
        i128_t  i128;
    };

    Pi::arrayOf<_u> v;

public:
    constexpr PiSingle () : v {{
        {{0xff,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0}},
        {{0,0xff,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0}},
        {{0,0,0xff,0, 0,0,0,0, 0,0,0,0, 0,0,0,0}},
        {{0,0,0,0xff, 0,0,0,0, 0,0,0,0, 0,0,0,0}},

        {{0,0,0,0, 0xff,0,0,0, 0,0,0,0, 0,0,0,0}},
        {{0,0,0,0, 0,0xff,0,0, 0,0,0,0, 0,0,0,0}},
        {{0,0,0,0, 0,0,0xff,0, 0,0,0,0, 0,0,0,0}},
        {{0,0,0,0, 0,0,0,0xff, 0,0,0,0, 0,0,0,0}},

        {{0,0,0,0, 0,0,0,0, 0xff,0,0,0, 0,0,0,0}},
        {{0,0,0,0, 0,0,0,0, 0,0xff,0,0, 0,0,0,0}},
        {{0,0,0,0, 0,0,0,0, 0,0,0xff,0, 0,0,0,0}},
        {{0,0,0,0, 0,0,0,0, 0,0,0,0xff, 0,0,0,0}},

        {{0,0,0,0, 0,0,0,0, 0,0,0,0, 0xff,0,0,0}},
        {{0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0xff,0,0}},
        {{0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0xff,0}},
        {{0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0xff}},
    }}
    {}

    constexpr const _t& operator[] (Pi pi) const { return v[pi].i128; }
};

extern const PiSingle piSingle;

#endif
